<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinese Language Learning Hub</title>
    <link rel="stylesheet" href="chinese.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-section basics" data-section="basics">
                <span class="nav-title">Basics</span>
                <div class="dropdown">
                    <a href="#" class="dropdown-item" data-subsection="tables">Overview Tables</a>
                    <a href="#" class="dropdown-item" data-subsection="flashcards">Flashcards</a>
                </div>
            </div>
            <div class="nav-section hsk1" data-section="hsk1">
                <span class="nav-title">HSK 1</span>
                <div class="dropdown">
                    <a href="#" class="dropdown-item" data-subsection="tables">Overview Tables</a>
                    <a href="#" class="dropdown-item" data-subsection="flashcards">Flashcards</a>
                </div>
            </div>
            <div class="nav-section hsk2" data-section="hsk2">
                <span class="nav-title">HSK 2</span>
                <div class="dropdown">
                    <a href="#" class="dropdown-item" data-subsection="tables">Overview Tables</a>
                    <a href="#" class="dropdown-item" data-subsection="flashcards">Flashcards</a>
                </div>
            </div>
            <div class="nav-section hsk3" data-section="hsk3">
                <span class="nav-title">HSK 3</span>
                <div class="dropdown">
                    <a href="#" class="dropdown-item" data-subsection="tables">Overview Tables</a>
                    <a href="#" class="dropdown-item" data-subsection="flashcards">Flashcards</a>
                </div>
            </div>
            <div class="nav-section hsk4" data-section="hsk4">
                <span class="nav-title">HSK 4</span>
                <div class="dropdown">
                    <a href="#" class="dropdown-item" data-subsection="tables">Overview Tables</a>
                    <a href="#" class="dropdown-item" data-subsection="flashcards">Flashcards</a>
                </div>
            </div>
            <div class="nav-section hsk5" data-section="hsk5">
                <span class="nav-title">HSK 5</span>
                <div class="dropdown">
                    <a href="#" class="dropdown-item" data-subsection="tables">Overview Tables</a>
                    <a href="#" class="dropdown-item" data-subsection="flashcards">Flashcards</a>
                </div>
            </div>
            <div class="nav-section hsk6" data-section="hsk6">
                <span class="nav-title">HSK 6</span>
                <div class="dropdown">
                    <a href="#" class="dropdown-item" data-subsection="tables">Overview Tables</a>
                    <a href="#" class="dropdown-item" data-subsection="flashcards">Flashcards</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="content">
        <!-- Home Section -->
        <div id="home" class="section-content active">
            <div class="home-section">
                <h1>Chinese Language Learning Hub</h1>
                <p>Master Chinese from basics to HSK 6 with interactive flashcards and comprehensive tables</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>üìö Structured Learning</h3>
                        <p>Progress from basics through all HSK levels with organized content</p>
                    </div>
                    <div class="feature-card">
                        <h3>üéØ Interactive Flashcards</h3>
                        <p>Learn characters with pinyin, meanings, and examples</p>
                    </div>
                    <div class="feature-card">
                        <h3>üìä Comprehensive Tables</h3>
                        <p>Quick reference tables for tones, radicals, and vocabulary</p>
                    </div>
                    <div class="feature-card">
                        <h3>üåà Color-Coded System</h3>
                        <p>Each level has its own color scheme for easy navigation</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Basics Tables -->
        <div id="basics-tables" class="section-content">
            <h2 style="color: #9b59b6; margin-bottom: 20px;">Basics - Overview Tables</h2>
            
            <div class="table-container">
                <h3>4 Tone Types</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Tone</th>
                            <th>Pinyin</th>
                            <th>Hanzi</th>
                            <th>Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Neutral</td>
                            <td><mark>mƒÅ</mark></td>
                            <td>Â¶à</td>
                            <td>mother</td>
                        </tr>
                        <tr>
                            <td>Rising</td>
                            <td><mark>m√°</mark></td>
                            <td>È∫ª</td>
                            <td>spicy</td>
                        </tr>
                        <tr>
                            <td>Dip</td>
                            <td><mark>m«é</mark></td>
                            <td>È©¨</td>
                            <td>horse</td>
                        </tr>
                        <tr>
                            <td>Falling</td>
                            <td><mark>m√†</mark></td>
                            <td>È™Ç</td>
                            <td>scold</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-container">
                <h3>Simple Consonants/Initials</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Simple Initials</th>
                            <th>Pronunciation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><mark>b</mark></td><td>like "b" in "bad" (unaspirated)</td></tr>
                        <tr><td><mark>p</mark></td><td>like "p" in "pop"</td></tr>
                        <tr><td><mark>m</mark></td><td>like "m" in "meet"</td></tr>
                        <tr><td><mark>f</mark></td><td>like "f" in "food"</td></tr>
                        <tr><td><mark>d</mark></td><td>Like "d" in "day" (unaspirated)</td></tr>
                        <tr><td><mark>t</mark></td><td>like "t" in "talk"</td></tr>
                        <tr><td><mark>n</mark></td><td>like "n" in "need"</td></tr>
                        <tr><td><mark>l</mark></td><td>like "l" in "love"</td></tr>
                        <tr><td><mark>g</mark></td><td>like "g" in "go"</td></tr>
                        <tr><td><mark>k</mark></td><td>like "k" in "kill"</td></tr>
                        <tr><td><mark>h</mark></td><td>like "h" in "hello"</td></tr>
                        <tr><td><mark>j</mark></td><td>close to "j" in "jeep"(without protruding the lips)</td></tr>
                        <tr><td><mark>q</mark></td><td>ch harder than "ch" in cheap</td></tr>
                        <tr><td><mark>x</mark></td><td>close to "sh" in "shirt"</td></tr>
                        <tr><td><mark>z</mark></td><td>like "ds" in "words"</td></tr>
                        <tr><td><mark>c</mark></td><td>like "ts" in "rats"Ôºåwith aspiration</td></tr>
                        <tr><td><mark>s</mark></td><td>like "s" in "Sunday"</td></tr>
                        <tr><td><mark>zh</mark></td><td>like "dr" in "draw"</td></tr>
                        <tr><td><mark>ch</mark></td><td>like "ch" in "touch", aspiration</td></tr>
                        <tr><td><mark>sh</mark></td><td>close to "sh" in "shy"</td></tr>
                        <tr><td><mark>r</mark></td><td>close to "r" in "roll"</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="table-container">
                <h3>Simple Vowels/Finals</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Simple Finals</th>
                            <th>Pronunciation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><mark>a</mark></td><td>"ah" as in "ah-ha!"</td></tr>
                        <tr><td><mark>o</mark></td><td>"o" in "often"</td></tr>
                        <tr><td><mark>e</mark></td><td>"er" in "her" w/ less tongue curling</td></tr>
                        <tr><td><mark>i</mark></td><td>"ee" in "see"</td></tr>
                        <tr><td><mark>u</mark></td><td>"oo" in "food"</td></tr>
                        <tr><td><mark>√º</mark></td><td>"oo" with pouting up lips</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Basics Flashcards -->
        <div id="basics-flashcards" class="section-content">
            <h2 style="color: #9b59b6; margin-bottom: 20px;">Basics - Flashcards</h2>
            
            <div class="category-selector">
                <label for="basics-category">Select Category: </label>
                <select id="basics-category">
                    <option value="strokes">Basic Strokes</option>
                    <option value="radicals">Common Radicals</option>
                    <option value="structure">Character Structure</option>
                </select>
            </div>

            <div class="flashcard-container">
                <div class="flashcard active" data-category="strokes">
                    <div class="card-header" style="background-color: #9b59b6;">Âü∫Á°Ä Basics</div>
                    <div class="character-display">‰∏Ä</div>
                    <div class="info-section">
                        <div class="info-label">Stroke Type:</div>
                        <div class="info-content">Horizontal (Ê®™ h√©ng)</div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Stroke Order:</div>
                        <div class="info-content">Left to right ‚Üí</div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Example:</div>
                        <div class="info-content">‰∏Ä (yƒ´) - one</div>
                    </div>
                </div>
            </div>

            <div class="progress-indicator">
                <span id="basics-progress">1 / 10</span>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn" id="basics-prev" style="background-color: #9b59b6;">‚Üê Previous</button>
                <button class="nav-btn" id="basics-next" style="background-color: #9b59b6;">Next ‚Üí</button>
            </div>
            
        </div>

        <!-- HSK 1 Tables -->
        <div id="hsk1-tables" class="section-content">
            <h2 style="color: #e74c3c; margin-bottom: 20px;">HSK 1 - Overview Tables</h2>
            
            <div class="table-container">
                <h3>Personal Pronouns</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Chinese</th>
                            <th>Pinyin</th>
                            <th>English</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Êàë</td><td>w«í</td><td>I, me</td></tr>
                        <tr><td>Êàë‰ª¨</td><td>w«ímen</td><td>we, us (pl.)</td></tr>
                        <tr><td>‰Ω†</td><td>n«ê</td><td>you</td></tr>
                        <tr><td>‰Ω†‰ª¨</td><td>n«êmen</td><td>you (pl.)</td></tr>
                        <tr><td>‰ªñ</td><td>tƒÅ</td><td>he, him</td></tr>
                        <tr><td>Â•π</td><td>tƒÅ</td><td>she, her</td></tr>
                        <tr><td>‰ªñ‰ª¨</td><td>tƒÅmen</td><td>they (male+female/male, pl.)</td></tr>
                        <tr><td>Â•π‰ª¨</td><td>tƒÅmen</td><td>they (females, pl.)</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="table-container">
                <h3>Numbers</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Chinese</th>
                            <th>Pinyin</th>
                            <th>English</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>‰∏Ä</td><td>yƒ´</td><td>one</td></tr>
                        <tr><td>‰∫å</td><td>√®r</td><td>two</td></tr>
                        <tr><td>‰∏â</td><td>sƒÅn</td><td>three</td></tr>
                        <tr><td>Âõõ</td><td>s√¨</td><td>four</td></tr>
                        <tr><td>‰∫î</td><td>w«î</td><td>five</td></tr>
                        <tr><td>ÂÖ≠</td><td>li√π</td><td>six</td></tr>
                        <tr><td>‰∏É</td><td>qƒ´</td><td>seven</td></tr>
                        <tr><td>ÂÖ´</td><td>bƒÅ</td><td>eight</td></tr>
                        <tr><td>‰πù</td><td>ji«î</td><td>nine</td></tr>
                        <tr><td>ÂçÅ</td><td>sh√≠</td><td>ten</td></tr>
                        <tr><td>Èõ∂</td><td>l√≠ng</td><td>zero</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- HSK 1 Flashcards -->
        <div id="hsk1-flashcards" class="section-content">
            <h2 style="color: #e74c3c; margin-bottom: 20px;">HSK 1 - Flashcards</h2>
            
            <div class="category-selector">
                <label for="hsk1-category">Select Category: </label>
                <select id="hsk1-category">
                    <option value="pronouns">Personal Pronouns</option>
                    <option value="numbers">Numbers</option>
                    <option value="nouns">Common Nouns</option>
                    <option value="verbs">Basic Verbs</option>
                    <option value="adjectives">Adjectives</option>
                </select>
            </div>

            <div class="flashcard-container">
                <div class="flashcard active" data-category="pronouns">
                    <div class="card-header" style="background-color: #e74c3c;">HSK 1</div>
                    <div class="character-display">Êàë</div>
                    <div class="info-section">
                        <div class="info-label">Pinyin:</div>
                        <div class="info-content">w«í</div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Meaning:</div>
                        <div class="info-content">I, me</div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Category:</div>
                        <div class="info-content">Personal Pronoun</div>
                    </div>
                </div>
            </div>

            <div class="progress-indicator">
                <span id="hsk1-progress">1 / 20</span>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn" id="hsk1-prev" style="background-color: #e74c3c;">‚Üê Previous</button>
                <button class="nav-btn" id="hsk1-next" style="background-color: #e74c3c;">Next ‚Üí</button>
            </div>
            
        </div>

        <!-- Additional sections would follow the same pattern for HSK 2-6 -->
        <!-- For brevity, I'll include just the structure for HSK 2 -->

        <!-- HSK 2 Tables -->
        <div id="hsk2-tables" class="section-content">
            <h2 style="color: #e67e22; margin-bottom: 20px;">HSK 2 - Overview Tables</h2>
            
            <div class="table-container">
                <h3>Key Vocabulary Sample</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Chinese</th>
                            <th>Pinyin</th>
                            <th>English</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Âà´</td><td>bi√©</td><td>other</td></tr>
                        <tr><td>ÈùûÂ∏∏</td><td>fƒìich√°ng</td><td>very</td></tr>
                        <tr><td>Â∑≤Áªè</td><td>y«êjƒ´ng</td><td>already</td></tr>
                        <tr><td>‰∏ÄËµ∑</td><td>y√¨q«ê</td><td>together</td></tr>
                        <tr><td>Âõ†‰∏∫</td><td>yƒ´nw√®i</td><td>because</td></tr>
                        <tr><td>ÊâÄ‰ª•</td><td>su«íy«ê</td><td>so</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- HSK 2 Flashcards -->
        <div id="hsk2-flashcards" class="section-content">
            <h2 style="color: #e67e22; margin-bottom: 20px;">HSK 2 - Flashcards</h2>
            
            <div class="category-selector">
                <label for="hsk2-category">Select Category: </label>
                <select id="hsk2-category">
                    <option value="adverbs">Adverbs</option>
                    <option value="conjunctions">Conjunctions</option>
                    <option value="verbs">Verbs</option>
                </select>
            </div>

            <div class="flashcard-container">
                <div class="flashcard active" data-category="adverbs">
                    <div class="card-header" style="background-color: #e67e22;">HSK 2</div>
                    <div class="character-display">ÈùûÂ∏∏</div>
                    <div class="info-section">
                        <div class="info-label">Pinyin:</div>
                        <div class="info-content">fƒìich√°ng</div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Meaning:</div>
                        <div class="info-content">very</div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Category:</div>
                        <div class="info-content">Adverb</div>
                    </div>
                </div>
            </div>

            <div class="progress-indicator">
                <span id="hsk2-progress">1 / 15</span>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn" id="hsk2-prev" style="background-color: #e67e22;">‚Üê Previous</button>
                <button class="nav-btn" id="hsk2-next" style="background-color: #e67e22;">Next ‚Üí</button>
            </div>
            
        </div>
    </div>

    <script>
        // Flashcard Data
        const flashcardData = {
            basics: {
                strokes: [
                    { character: '‰∏Ä', stroke: 'Horizontal (Ê®™ h√©ng)', order: 'Left to right ‚Üí', example: '‰∏Ä (yƒ´) - one' },
                    { character: '‰∏®', stroke: 'Vertical (Á´ñ sh√π)', order: 'Top to bottom ‚Üì', example: 'ÂçÅ (sh√≠) - ten' },
                    { character: '‰∏ø', stroke: 'Left-falling (Êíá piƒõ)', order: 'Top-right to bottom-left ‚Üô', example: '‰∫∫ (r√©n) - person' },
                    { character: '‰∏∂', stroke: 'Dot (ÁÇπ di«én)', order: 'Top to bottom', example: 'Êàë (w«í) - I/me' },
                    { character: '„áè', stroke: 'Right-falling (Êç∫ n√†)', order: 'Top-left to bottom-right ‚Üò', example: 'Â§ß (d√†) - big' }
                ],
                radicals: [
                    { character: '‰∫∫', pinyin: 'r√©n', meaning: 'person', examples: '‰Ω†, ‰ªñ, ‰ª¨' },
                    { character: 'Ê∞¥', pinyin: 'shu«ê', meaning: 'water', examples: 'Ê≤≥, Êµ∑, Êπñ' },
                    { character: 'ÁÅ´', pinyin: 'hu«í', meaning: 'fire', examples: 'ÁÉ≠, ÁÉß, ÁÅØ' },
                    { character: 'Êú®', pinyin: 'm√π', meaning: 'tree', examples: 'Êûó, Ê£Æ, Êûù' },
                    { character: 'ÂøÉ', pinyin: 'xƒ´n', meaning: 'heart', examples: 'ÊÉ≥, ÊÄù, Âøµ' }
                ],
                structure: [
                    { character: 'Â•Ω', structure: 'Left-Right (Â∑¶Âè≥)', components: 'Â•≥ + Â≠ê', meaning: 'good' },
                    { character: 'Êòé', structure: 'Left-Right (Â∑¶Âè≥)', components: 'Êó• + Êúà', meaning: 'bright' },
                    { character: 'ÂÆâ', structure: 'Top-Bottom (‰∏ä‰∏ã)', components: 'ÂÆÄ + Â•≥', meaning: 'peace' },
                    { character: 'ÂõΩ', structure: 'Enclosure (ÂåÖÂõ¥)', components: 'Âõó + Áéâ', meaning: 'country' }
                ]
            },
            hsk1: {
                pronouns: [
                    { character: 'Êàë', pinyin: 'w«í', meaning: 'I, me' },
                    { character: '‰Ω†', pinyin: 'n«ê', meaning: 'you' },
                    { character: '‰ªñ', pinyin: 'tƒÅ', meaning: 'he, him' },
                    { character: 'Â•π', pinyin: 'tƒÅ', meaning: 'she, her' },
                    { character: 'Êàë‰ª¨', pinyin: 'w«ímen', meaning: 'we, us' }
                ],
                numbers: [
                    { character: '‰∏Ä', pinyin: 'yƒ´', meaning: 'one' },
                    { character: '‰∫å', pinyin: '√®r', meaning: 'two' },
                    { character: '‰∏â', pinyin: 'sƒÅn', meaning: 'three' },
                    { character: 'Âõõ', pinyin: 's√¨', meaning: 'four' },
                    { character: '‰∫î', pinyin: 'w«î', meaning: 'five' }
                ],
                nouns: [
                    { character: 'ÂÆ∂', pinyin: 'jiƒÅ', meaning: 'home, family' },
                    { character: 'Â≠¶Ê†°', pinyin: 'xu√©xi√†o', meaning: 'school' },
                    { character: 'ÊúãÂèã', pinyin: 'p√©ngyou', meaning: 'friend' },
                    { character: 'ËÄÅÂ∏à', pinyin: 'l«éoshƒ´', meaning: 'teacher' },
                    { character: 'Â≠¶Áîü', pinyin: 'xu√©sheng', meaning: 'student' }
                ],
                verbs: [
                    { character: 'ÊòØ', pinyin: 'sh√¨', meaning: 'to be (am, is, are)' },
                    { character: 'Êúâ', pinyin: 'y«íu', meaning: 'to have' },
                    { character: 'Áúã', pinyin: 'k√†n', meaning: 'to look, to see' },
                    { character: 'ÂêÉ', pinyin: 'chƒ´', meaning: 'to eat' },
                    { character: 'Âñù', pinyin: 'hƒì', meaning: 'to drink' }
                ],
                adjectives: [
                    { character: 'Â•Ω', pinyin: 'h«éo', meaning: 'good' },
                    { character: 'Â§ß', pinyin: 'd√†', meaning: 'big' },
                    { character: 'Â∞è', pinyin: 'xi«éo', meaning: 'small' },
                    { character: 'Â§ö', pinyin: 'du≈ç', meaning: 'many, much' },
                    { character: 'Â∞ë', pinyin: 'sh«éo', meaning: 'few, little' }
                ]
            },
            hsk2: {
                adverbs: [
                    { character: 'ÈùûÂ∏∏', pinyin: 'fƒìich√°ng', meaning: 'very' },
                    { character: 'Â∑≤Áªè', pinyin: 'y«êjƒ´ng', meaning: 'already' },
                    { character: '‰∏ÄËµ∑', pinyin: 'y√¨q«ê', meaning: 'together' },
                    { character: 'ÂÜç', pinyin: 'z√†i', meaning: 'again' },
                    { character: 'Â∞±', pinyin: 'ji√π', meaning: 'at once' }
                ],
                conjunctions: [
                    { character: 'Âõ†‰∏∫', pinyin: 'yƒ´nw√®i', meaning: 'because' },
                    { character: 'ÊâÄ‰ª•', pinyin: 'su«íy«ê', meaning: 'so' },
                    { character: '‰ΩÜÊòØ', pinyin: 'd√†nsh√¨', meaning: 'but' },
                    { character: 'Âíå', pinyin: 'h√©', meaning: 'and' }
                ],
                verbs: [
                    { character: 'Êâæ', pinyin: 'zh«éo', meaning: 'to find, to look for' },
                    { character: 'Áªô', pinyin: 'gƒõi', meaning: 'to give' },
                    { character: 'Á≠â', pinyin: 'dƒõng', meaning: 'to wait' },
                    { character: 'ËÆ©', pinyin: 'r√†ng', meaning: 'to let' },
                    { character: 'ÈÄÅ', pinyin: 's√≤ng', meaning: 'to send, to deliver' }
                ]
            }
        };
        
// Add this right after your flashcardData declaration
function setupTiltEffects() {
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            mutation.addedNodes.forEach((node) => {
                if (node.nodeType === 1 && (node.classList.contains('flashcard') || 
                    node.querySelector('.flashcard'))) {
                    addTiltEffect(node.classList.contains('flashcard') ? node : node.querySelector('.flashcard'));
                }
            });
        });
    });

    // Observe all flashcard containers
    document.querySelectorAll('.flashcard-container').forEach(container => {
        observer.observe(container, { childList: true, subtree: true });
    });

    // Initialize existing flashcards
    document.querySelectorAll('.flashcard').forEach(card => {
        addTiltEffect(card);
    });
}

function addTiltEffect(card) {
    if (card._tiltEnabled) return;
    card._tiltEnabled = true;

    card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;
        
        const rotateY = (x - centerX) / 20;
        const rotateX = (centerY - y) / 20;
        
        card.style.setProperty('--rotate-x', `${rotateX}deg`);
        card.style.setProperty('--rotate-y', `${rotateY}deg`);
    });

    card.addEventListener('mouseleave', () => {
        card.style.setProperty('--rotate-x', '0deg');
        card.style.setProperty('--rotate-y', '0deg');
    });
}

// Initialize the tilt effects when the page loads
document.addEventListener('DOMContentLoaded', setupTiltEffects);

// Also call it after your updateFlashcard function
function updateFlashcard(section) {
    // ... (your existing updateFlashcard code)
    
    // Initialize tilt effects for the new card
    setTimeout(() => {
        const card = document.querySelector(`#${section}-flashcards .flashcard`);
        if (card) addTiltEffect(card);
    }, 10);
}

        // Current state for each section
        const flashcardState = {
            basics: { current: 0, category: 'strokes' },
            hsk1: { current: 0, category: 'pronouns' },
            hsk2: { current: 0, category: 'adverbs' }
        };

        // Navigation functionality
        document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const section = e.target.closest('.nav-section').dataset.section;
                const subsection = e.target.dataset.subsection;
                showContent(`${section}-${subsection}`);
            });
        });

        // Show content function
        function showContent(contentId) {
            document.querySelectorAll('.section-content').forEach(content => {
                content.classList.remove('active');
            });
            const targetContent = document.getElementById(contentId);
            if (targetContent) {
                targetContent.classList.add('active');
            } else {
                document.getElementById('home').classList.add('active');
            }
        }

        // Flashcard navigation
        function setupFlashcardNavigation(section) {
            const prevBtn = document.getElementById(`${section}-prev`);
            const nextBtn = document.getElementById(`${section}-next`);
            const categorySelect = document.getElementById(`${section}-category`);

            if (!prevBtn || !nextBtn) return;

            prevBtn.addEventListener('click', () => navigateFlashcard(section, -1));
            nextBtn.addEventListener('click', () => navigateFlashcard(section, 1));
            
            if (categorySelect) {
                categorySelect.addEventListener('change', (e) => {
                    flashcardState[section].category = e.target.value;
                    flashcardState[section].current = 0;
                    updateFlashcard(section);
                });
            }
        }

        function navigateFlashcard(section, direction) {
            const state = flashcardState[section];
            const category = state.category;
            const cards = flashcardData[section][category];
            
            if (!cards) return;

            state.current += direction;
            
            if (state.current < 0) state.current = cards.length - 1;
            if (state.current >= cards.length) state.current = 0;
            
            updateFlashcard(section);
        }

        function updateFlashcard(section) {
            const state = flashcardState[section];
            const category = state.category;
            const cards = flashcardData[section][category];
            
            if (!cards || cards.length === 0) return;
            
            const card = cards[state.current];
            const container = document.querySelector(`#${section}-flashcards .flashcard-container`);
            
            if (!container) return;

            let flashcardHTML = '';
            
            if (section === 'basics') {
                if (category === 'strokes') {
                    flashcardHTML = `
                        <div class="flashcard active" data-category="${category}">
                            <div class="card-header" style="background-color: #9b59b6;">Âü∫Á°Ä Basics</div>
                            <div class="character-display">${card.character}</div>
                            <div class="info-section">
                                <div class="info-label">Stroke Type:</div>
                                <div class="info-content">${card.stroke}</div>
                            </div>
                            <div class="info-section">
                                <div class="info-label">Stroke Order:</div>
                                <div class="info-content">${card.order}</div>
                            </div>
                            <div class="info-section">
                                <div class="info-label">Example:</div>
                                <div class="info-content">${card.example}</div>
                            </div>
                        </div>
                    `;
                } else if (category === 'radicals') {
                    flashcardHTML = `
                        <div class="flashcard active" data-category="${category}">
                            <div class="card-header" style="background-color: #9b59b6;">Âü∫Á°Ä Basics</div>
                            <div class="character-display">${card.character}</div>
                            <div class="info-section">
                                <div class="info-label">Pinyin:</div>
                                <div class="info-content">${card.pinyin}</div>
                            </div>
                            <div class="info-section">
                                <div class="info-label">Meaning:</div>
                                <div class="info-content">${card.meaning}</div>
                            </div>
                            <div class="info-section">
                                <div class="info-label">Examples:</div>
                                <div class="info-content">${card.examples}</div>
                            </div>
                        </div>
                    `;
                } else if (category === 'structure') {
                    flashcardHTML = `
                        <div class="flashcard active" data-category="${category}">
                            <div class="card-header" style="background-color: #9b59b6;">Âü∫Á°Ä Basics</div>
                            <div class="character-display">${card.character}</div>
                            <div class="info-section">
                                <div class="info-label">Structure:</div>
                                <div class="info-content">${card.structure}</div>
                            </div>
                            <div class="info-section">
                                <div class="info-label">Components:</div>
                                <div class="info-content">${card.components}</div>
                            </div>
                            <div class="info-section">
                                <div class="info-label">Meaning:</div>
                                <div class="info-content">${card.meaning}</div>
                            </div>
                        </div>
                    `;
                }
            } else {
                const colors = {
                    hsk1: '#e74c3c',
                    hsk2: '#e67e22',
                    hsk3: '#f39c12',
                    hsk4: '#27ae60',
                    hsk5: '#3498db',
                    hsk6: '#34495e'
                };
                
                flashcardHTML = `
                    <div class="flashcard active" data-category="${category}">
                        <div class="card-header" style="background-color: ${colors[section]};">HSK ${section.slice(-1)}</div>
                        <div class="character-display">${card.character}</div>
                        <div class="info-section">
                            <div class="info-label">Pinyin:</div>
                            <div class="info-content">${card.pinyin}</div>
                        </div>
                        <div class="info-section">
                            <div class="info-label">Meaning:</div>
                            <div class="info-content">${card.meaning}</div>
                        </div>
                        <div class="info-section">
                            <div class="info-label">Category:</div>
                            <div class="info-content">${category.charAt(0).toUpperCase() + category.slice(1)}</div>
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML = flashcardHTML;
            
            // Update progress
            const progress = document.getElementById(`${section}-progress`);
            if (progress) {
                progress.textContent = `${state.current + 1} / ${cards.length}`;
            }
        }

        // Initialize flashcard navigation
        setupFlashcardNavigation('basics');
        setupFlashcardNavigation('hsk1');
        setupFlashcardNavigation('hsk2');

        // Initialize first flashcards
        updateFlashcard('basics');
        updateFlashcard('hsk1');
        updateFlashcard('hsk2');
    </script>
</body>
</html>